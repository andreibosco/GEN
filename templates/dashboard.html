{% extends 'base.html' %}

{% load humanize %}
{% load gravatar %}
{% load countvotes %}

{% block breadcrumb %}
  <li class="breadcrumb-item active">User Dashboard</li>
{% endblock breadcrumb %}

{% block content %}
  <div class="card mb-3">
    <h5 class="card-header bg-dark text-white"> {{ user.username }} </h5>
    <div class="card-body">
      <div class="row">
        <div class="col col-2">
          <img src="{{ user|gravatar }}" alt="{{ user.username }}" class="w-100">
        </div>
        <div class="col col-10">
          <ul class="list-unstyled">
            <li><span class="font-weight-bold">First name: </span>{{ user.first_name }}</li>
            <li><span class="font-weight-bold">Last name: </span>{{ user.last_name }}</li>
            <li><span class="font-weight-bold">E-mail: </span>{{ user.email }}</li>
          </ul>
          <a href="{% url 'my_account' %}" class="btn btn-primary">Edit</a>
        </div>
      </div>
    </div>
  </div>

  <div class="card mb-3">
    <h5 class="card-header bg-light">
      <div class="row">
        <div class="col-10 pt-2">Enrolled Courses</div>
        <div class="col-2 text-right"><a href="#" class="btn btn-primary">Add</a></div>
      </div>
    </h5>
    <div class="card-body p-0">
      <ul class="list-group list-group-flush">
        <li class="list-group-item"><a href="#">Cras justo odio</a></li>
        <li class="list-group-item"><a href="#">Dapibus ac facilisis in</a></li>
        <li class="list-group-item"><a href="#">Vestibulum at eros</a></li>
      </ul>
    </div>
  </div>

  <div class="card-deck mb-3">
    <div class="card">
      <h5 class="card-header bg-light">Scoreboard</h5>
      <div class="card-body">
        <table class="table table-hover">
          <tbody>
            <tr>
              <td>Forum</td>
              <td class="text-center">{% countvotes user.id "forum" %}</td>
            </tr>
            <tr>
              <td>Comments</td>
              <td class="text-center">{% countvotes user.id "comment" %}</td>
            </tr>
            <tr>
              <td>Quiz</td>
              <td class="text-center">*WIP*</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="card">
      <h5 class="card-header bg-light">Leaderboard</h5>
      <div class="card-body">
        - Top 5 Forum poster
        - You never posted a comment :(
        - Best quiz score
      </div>
    </div>

    <div class="card">
      <h5 class="card-header bg-light">Progress</h5>
      <div class="card-body">
        <ul class="list-unstyled">
          <li>Course A
            <div class="progress mb-3" data-toggle="tooltip" data-placement="top" title="30%">
              <div class="progress-bar" role="progressbar" style="width: 30%;" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </li>
          <li>Course B
            <div class="progress mb-3" data-toggle="tooltip" data-placement="top" title="75%">
              <div class="progress-bar" role="progressbar" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </li>
          <li>Course C
            <div class="progress mb-3" data-toggle="tooltip" data-placement="top" title="10%">
              <div class="progress-bar" role="progressbar" style="width: 10%;" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

{% endblock content %}

