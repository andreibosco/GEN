{% extends 'base_course.html' %}

{% load static %}
{% load humanize %}
{% load checkvotes %}

{% block stylesheet %}
  <link rel="stylesheet" href="{% static 'css/custom.css' %}">
{% endblock stylesheet %}

{% block breadcrumb %}
  <li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a></li>
  <li class="breadcrumb-item"><a href="{% url 'course' course.pk %}">{{ course.code }}</a></li>
  <li class="breadcrumb-item active">Videos</li>
{% endblock breadcrumb %}

{% block content_tabs %}
  <li class="nav-item">
    <a class="nav-link" href="{% url 'course' course.pk %}">Info</a>
  </li>
  <li class="nav-item">
    <a class="nav-link active">Videos</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{% url 'course_forums' course.pk %}">Forums</a>
  </li>
  <!-- <li class="nav-item">
    <a class="nav-link" href="{% url 'list_pdfs' course.pk %}">PDFs</a>
  </li> -->
  <li class="nav-item">
    <a class="nav-link" href="{% url 'list_quiz' course.pk %}">Quizzes</a>
  </li>
{% endblock content_tabs %}

{% block content %}
  <div class="mb-3">
    <a href="{% url 'upload_video' course.pk %}" class="btn btn-primary">Submit new video</a>
  </div>

  <ul class="list-group">
    {% for video in videos %}
      <li class="list-group-item">
        <div class="media">
          {% comment %}
            <img src="{{ video.thumbnail }}" class="mr-3" alt="Video thumbnail">
          {% endcomment %}
          <img src="https://via.placeholder.com/80" class="mr-3" alt="Video thumbnail">
          <div class="media-body">
            <h5 class="mb-0 mt-1"><a href="{{ video.file.url }}">{{ video.title }}</a></h5>
            <small>{{ video.description }}</small>
          </div>
          <div class="media-buttons btn-group mt-2" role="group" aria-label="Buttons to access video's discussion board and quiz">
            <button class='btn btn-outline-primary'> 
              <div style='text-align:center;'><i class="far fa-comment"></i></div>  
                Discuss
            </button>
            <button class='btn btn-success' disabled> 
              <div style='text-align:center;'><i class="far fa-check-circle"></i></div>  
                Take quiz
            </button>
          </div>
        </div>
      </li>
    {% empty %}
      Nothing to show.
    {% endfor %}
</ul>

  {% comment %}
  <ul class="list-group">
    {% for forum in media_list %}
      <span>{{ forum.media.url }}</span>
      <li class="list-group-item">
        {% video forum.media.url as my_video %}
          <div class="media">
            <a href="{{ forum.media.url }}"><img src="{{ my_video.thumbnail }}" class="mr-3 video-thumbnail" alt="Video thumbnail"></a>
            <div class="media-body">
              <a href="{{ forum.media.url }}"><span>{{ forum.media.title }} - {{ forum.media.url }}</a></span>
              <div>
                <small>Forum: <a href="{% url 'forum_comments' course.pk forum.pk %}">{{ forum.name }}</a></small>
              </div>
            </div>
          </div>
        {% endvideo %}
      </li>
    {% empty %}
      Nothing to show.
    {% endfor %}
  </ul>
  {% endcomment %}
  
{% endblock content %}
